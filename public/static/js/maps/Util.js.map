{"version":3,"sources":["Util.js"],"names":["Util","head","prototype","initDialog","id","callBack","addBg","dialogId","dom_dialog","getDom","addCloseBtn","children","addEve","dom","document","createElement","style","cssText","dialog_bg","getElementsByTagName","appendChild","createCloseBtn","closeBtn","imgBtn","setAttribute","arr","map","item","addEventListener","className","indexOf","hide_dialog","show_dialog","display","getElementById","getDomsByClass","getElementsByClassName","window","util"],"mappings":"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","file":"../Util.js","sourcesContent":["/**\n * Created by ly on 8/27/2017 AD.\n */\n\n(function () {\n\n    var Util = function () {\n        this.head = \"dialog-head\";\n    }\n    /**\n     *  {param : function} sure btn : callBack\n     */\n    Util.prototype.initDialog = function (id, callBack) {\n        this.addBg();\n        this.dialogId = id;\n        this.dom_dialog = this.getDom(this.dialogId);\n        this.addCloseBtn(this.dom_dialog.children[0]);\n        this.callBack = callBack;\n        if (this.dom_dialog.children[2]) {\n            this.addEve([\n                //todo:// change dome get way\n                this.dom_dialog.children[2].children[0],\n                this.dom_dialog.children[2].children[1]\n            ]);\n        }\n        return this;\n    }\n\n    Util.prototype.addBg = function () {\n        var dom = document.createElement(\"div\");\n        var style = \"display:none;position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-color: rgba(0,0,0,0.5);z-index:10\"\n        dom.style.cssText = style;\n        this.dialog_bg = dom;\n        document.getElementsByTagName(\"body\")[0].appendChild(dom);\n    }\n\n    Util.prototype.addCloseBtn = function (dom) {\n        dom.appendChild(this.createCloseBtn());\n    }\n\n    Util.prototype.createCloseBtn = function () {\n        var closeBtn = document.createElement(\"p\");\n        var imgBtn = document.createElement(\"img\");\n        imgBtn.setAttribute(\"src\", \"./static/imgs/close.png\");\n        closeBtn.setAttribute(\"id\", \"close\");\n        closeBtn.appendChild(imgBtn);\n        this.addEve([closeBtn]);\n        return closeBtn;\n    }\n    Util.prototype.addEve = function (arr) {\n        arr.map((item) => {\n            // get all event\n            item.addEventListener('click', () => {\n                    item.className.indexOf(\"sure\") >= 0 && this.callBack();\n                    this.hide_dialog();\n                }\n            )\n        })\n    }\n\n    Util.prototype.show_dialog = function () {\n        this.dialog_bg.style.display = 'block';\n        this.dom_dialog.style.display = 'block';\n    }\n\n    Util.prototype.hide_dialog = function () {\n        this.dialog_bg.style.display = 'none';\n        this.dom_dialog.style.display = 'none';\n    }\n    Util.prototype.getDom = function (id) {\n        return document.getElementById(id);\n    }\n    Util.prototype.getDomsByClass = function (className) {\n        return document.getElementsByClassName(className);\n    }\n    window.util = Util;\n})();\n"]}